'use strict';!function(require,directRequire){const a=require('fs'),b=require('path'),c=require('mkdir-p'),d=require('./162bf2ee28b76d3b3d95b685cede4146.js'),e=require('./common/locales/index.js'),{bufToUTF8:f}=require('./efc820e1b92d6e4063535296d4a24213.js'),{FILE_NOT_UTF8:g}=require('./949d8235c744ced2a80121e4dba34c28.js'),h={".json":!0,".wxml":!0,".wxs":!0},{whiteFileExtName:i,gameWhiteFileExtName:j}=require('./6242f55dbdfe53c2f07b7a51568311f2.js'),k={".js":!0,".wxss":!0};module.exports=function(l,m={}){return new Promise(async(n,o)=>{let{distPath:p}=m,q=await d(l),r=q.getAllFile(),s=i;l.attr&&l.attr.gameApp&&(s=j);for(let d=0,i=r.length;d<i;d++){let i=r[d],j=b.extname(i);if(!k[j]&&s[j]){if((!l.attr||!l.attr.platform||!l.attr.extInfo||!l.attr.extInfo.appid)&&'ext.json'===i)continue;let d=q.getFile(i,null);if(h[j]){let a=f(d);if(void 0===a){let a=new Error(e.config.FILE_NOT_UTF8.format(i));return a.code=g,o(a)}}let k=b.join(p,i),m=b.dirname(k);c.sync(m),a.writeFileSync(k,d)}}n()})}}(require('lazyload'),require);