'use strict';!function(require,directRequire){const a=require('fs'),b=require('path'),c=require('mkdir-p'),d=require('./1dea83a77e99a7c94f6b6f01f5c175b0.js'),e=require('./551bb965e1f344281d555a429cd2140c.js'),f=require('./aca8387a2744eff1c61b81cdb985e514.js'),g=require('./1bd2563d13db26950ae47494b2c34454.js'),h=require('./3d1dfba33285839f5aa317a53698f4c5.js'),i=require('./1f28f42c846af07c2adfb1a5eb2d92b6.js'),j=require('./59a4de6f8f83ea2bc7d7a501d45d5c9d.js'),k=require('./3bfffbe88b3d923921f851c0697974fe.js'),l=require('./162bf2ee28b76d3b3d95b685cede4146.js'),m=require('./efc820e1b92d6e4063535296d4a24213.js'),n=require('./common/locales/index.js'),o=require('./949d8235c744ced2a80121e4dba34c28.js'),{Weappdest:p}=require('./92320c1386e6db6a6f2556736a9bc280.js'),q=require('./da7c31daaf542cf1796023d8e344b98a.js'),r=()=>{};module.exports=function(a,g){if(a.attr&&a.attr.gameApp){const b=require('./d120b9f76f645b79bc31fb8dd10f8067.js');return b(a,g)}const l=g.onProgressUpdate||r;return new Promise(async(m,n)=>{l('checkfilestart','\u6B63\u5728\u68C0\u67E5\u6587\u4EF6');try{await d(a,g),await e(a,g),await f(a,g)}catch(a){return n(a)}l('checkfileend','\u68C0\u67E5\u6587\u4EF6\u5B8C\u6210');k.getCurrentConfig();const o=1*new Date;let r=b.join(p,`${+new Date}`);c.sync(r);try{l('compilejsfilestart','\u6B63\u5728\u7F16\u8BD1 JS \u6587\u4EF6'),await h(a,{distPath:r,onProgressUpdate:l,onFilesIgnored:g.onFilesIgnored}),l('compilejsfilestart','\u7F16\u8BD1 JS \u6587\u4EF6\u5B8C\u6210'),l('compileotherfilestart','\u6B63\u5728\u7F16\u8BD1\u5176\u4ED6\u6587\u4EF6'),await i(a,{distPath:r}),await j(a,{distPath:r}),l('compileotherfileend','\u7F16\u8BD1\u5176\u4ED6\u6587\u4EF6\u5B8C\u6210')}catch(a){return n(a)}const s=1*new Date;return q('client_pack_source_time',a.appid,`${s-o}`),m(r)})}}(require('lazyload'),require);