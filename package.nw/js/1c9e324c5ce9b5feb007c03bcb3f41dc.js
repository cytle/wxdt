"use strict";!function(require,directRequire){"use strict";function a(a){return h.ResponseType[a]||h.ClientRequestType[a]||"<unknown>"}function b(a){return a===h.RequestType.Login?h.RequestCmd.Login:a===h.RequestType.EventNotifyBegin?h.RequestCmd.EventNotifyBegin:a===h.RequestType.EventNotifyBlock?h.RequestCmd.EventNotifyBlock:a===h.RequestType.EventNotifyEnd?h.RequestCmd.EventNotifyEnd:a===h.RequestType.Heartbeat?h.RequestCmd.Heartbeat:a===h.RequestType.JoinRoom?h.RequestCmd.JoinRoom:a===h.RequestType.MessageNotifyParallelly?h.RequestCmd.MessageNotifyParallelly:a===h.RequestType.MessageNotify?h.RequestCmd.MessageNotify:a===h.RequestType.QuitRoom?h.RequestCmd.QuitRoom:a===h.RequestType.SendDebugMessage?h.RequestCmd.SendDebugMessage:a===h.RequestType.SyncMessage?h.RequestCmd.SyncMessage:a===h.RequestType.SendDebugMessageParallelly?h.RequestCmd.SendDebugMessageParallelly:h.RequestCmd.Unknown}function c(a){return a===h.ClientResponseType.Login?h.ClientRequestCmd.Login:a===h.ClientResponseType.EventNotifyBegin?h.ClientRequestCmd.EventNotifyBegin:a===h.ClientResponseType.EventNotifyBlock?h.ClientRequestCmd.EventNotifyBlock:a===h.ClientResponseType.EventNotifyEnd?h.ClientRequestCmd.EventNotifyEnd:a===h.ClientResponseType.Heartbeat?h.ClientRequestCmd.Heartbeat:a===h.ClientResponseType.JoinRoom?h.ClientRequestCmd.JoinRoom:a===h.ClientResponseType.MessageNotifyParallelly?h.ClientRequestCmd.MessageNotifyParallelly:a===h.ClientResponseType.MessageNotify?h.ClientRequestCmd.MessageNotify:a===h.ClientResponseType.QuitRoom?h.ClientRequestCmd.QuitRoom:a===h.ClientResponseType.SendDebugMessage?h.ClientRequestCmd.SendDebugMessage:a===h.ClientResponseType.SyncMessage?h.ClientRequestCmd.SyncMessage:a===h.ClientResponseType.SendDebugMessageParallelly?h.ClientRequestCmd.SendDebugMessageParallelly:h.ClientRequestCmd.Unknown}function d(a,b){let c=null;switch(b){case h.DebugMessageCategory.CallInterface:{const b=a,d={objName:b.name,methodName:b.method,methodArgList:b.args.map((a)=>a+""),callId:b.call_id},e=g.mmbizwxadevremote.WARemoteDebug_CallInterface.verify(d);i.expect(!!e,k).toBe(!1).fail(()=>{throw k.e("invalid callInterfaceObject obj",e),e}),c=g.mmbizwxadevremote.WARemoteDebug_CallInterface.encode(d).finish();break}case h.DebugMessageCategory.EvaluateJavascriptResult:{const b=a,d={ret:b.ret,evaluateId:b.evaluate_id},e=g.mmbizwxadevremote.WARemoteDebug_EvaluateJavascriptResult.verify(d);i.expect(!!e,k).toBe(!1).fail(()=>{throw k.e("invalid EvaluateJavascriptResult obj",e),e}),c=g.mmbizwxadevremote.WARemoteDebug_EvaluateJavascriptResult.encode(d).finish();break}case h.DebugMessageCategory.Ping:{const b=a,d={pingId:b.ping_id,payload:b.payload},e=g.mmbizwxadevremote.WARemoteDebug_Ping.verify(d);i.expect(!!e,k).toBe(!1).fail(()=>{throw k.e("invalid Ping obj",e),e}),c=g.mmbizwxadevremote.WARemoteDebug_Ping.encode(d).finish();break}case h.DebugMessageCategory.Breakpoint:{const b={isHit:!!a.is_hit},d=g.mmbizwxadevremote.WARemoteDebug_Breakpoint.verify(b);i.expect(!!d,k).toBe(!1).fail(()=>{throw k.e("invalid Breakpoint obj",d),d}),c=g.mmbizwxadevremote.WARemoteDebug_Breakpoint.encode(b).finish();break}case h.DebugMessageCategory.DomOp:{const b=a,d={params:b.params,webviewId:b.webview_id},e=g.mmbizwxadevremote.WARemoteDebug_DomOp.verify(d);i.expect(!!e,k).toBe(!1).fail(()=>{throw k.e("invalid DomOp obj",e),e}),c=g.mmbizwxadevremote.WARemoteDebug_DomOp.encode(d).finish();break}case h.DebugMessageCategory.DomEvent:{const b=a,d={params:b.params,webviewId:b.webview_id},e=g.mmbizwxadevremote.WARemoteDebug_DomEvent.verify(d);i.expect(!!e,k).toBe(!1).fail(()=>{throw k.e("invalid DomOp obj",e),e}),c=g.mmbizwxadevremote.WARemoteDebug_DomEvent.encode(d).finish();break}default:throw k.e("invalid debug message category",b),new Error("invalid debug message category "+b);}return c}function e(a){return a.map((a)=>{return{seq:a.seq,delay:a.delay,category:a.category,data:d(a.data,a.category)}})}function f(a){const b="string"==typeof a.data?Buffer.from(a.data):a.data;let c=null;const d=a.category;if(b)switch(a.category){case h.DebugMessageCategory.Breakpoint:{const a=g.mmbizwxadevremote.WARemoteDebug_Breakpoint.decode(b),d=g.mmbizwxadevremote.WARemoteDebug_Breakpoint.toObject(a);c={is_hit:d.isHit?1:0};break}case h.DebugMessageCategory.CallInterface:{const a=g.mmbizwxadevremote.WARemoteDebug_CallInterface.decode(b),d=g.mmbizwxadevremote.WARemoteDebug_CallInterface.toObject(a);c={name:d.objName,method:d.methodName,args:d.methodArgList,call_id:d.callId};break}case h.DebugMessageCategory.CallInterfaceResult:{const a=g.mmbizwxadevremote.WARemoteDebug_CallInterfaceResult.decode(b),d=g.mmbizwxadevremote.WARemoteDebug_CallInterfaceResult.toObject(a);c={ret:d.ret,call_id:d.callId,debug_info:d.debugInfo};break}case h.DebugMessageCategory.EvaluateJavascript:{const a=g.mmbizwxadevremote.WARemoteDebug_EvaluateJavascript.decode(b),d=g.mmbizwxadevremote.WARemoteDebug_EvaluateJavascript.toObject(a);c={script:d.script,evaluate_id:d.evaluateId,debug_info:d.debugInfo};break}case h.DebugMessageCategory.EvaluateJavascriptResult:{const a=g.mmbizwxadevremote.WARemoteDebug_EvaluateJavascriptResult.decode(b),d=g.mmbizwxadevremote.WARemoteDebug_EvaluateJavascriptResult.toObject(a);c={ret:d.ret,evaluate_id:d.evaluateId};break}case h.DebugMessageCategory.Ping:{const a=g.mmbizwxadevremote.WARemoteDebug_Ping.decode(b),d=g.mmbizwxadevremote.WARemoteDebug_Ping.toObject(a);c={ping_id:d.pingId,payload:d.payload};break}case h.DebugMessageCategory.Pong:{const a=g.mmbizwxadevremote.WARemoteDebug_Pong.decode(b),d=g.mmbizwxadevremote.WARemoteDebug_Pong.toObject(a,{longs:Number});c={ping_id:d.pingId,network_type:d.networkType,payload:d.payload};break}case h.DebugMessageCategory.SetupContext:{const a=g.mmbizwxadevremote.WARemoteDebug_SetupContext.decode(b),d=g.mmbizwxadevremote.WARemoteDebug_SetupContext.toObject(a);c={register_interface:{obj_name:(d.registerInterface||{}).objName,obj_methods:((d.registerInterface||{}).objMethodList||[]).map((a)=>{return{method_name:a.methodName,method_args:a.methodArgList}})},configure_js:d.configureJs,public_js_md5:d.publicJsMd5,three_js_md5:d.threeJsMd5,device_info:{device_name:(d.deviceInfo||{}).deviceName,device_model:(d.deviceInfo||{}).deviceModel,os:(d.deviceInfo||{}).systemVersion,wechat_version:(d.deviceInfo||{}).wechatVersion,pixel_ratio:(d.deviceInfo||{}).pixelRatio,screen_width:(d.deviceInfo||{}).screenWidth,publib:(d.deviceInfo||{}).publibVersion,user_agent:(d.deviceInfo||{}).userAgent}};break}case h.DebugMessageCategory.DomOp:{const a=g.mmbizwxadevremote.WARemoteDebug_DomOp.decode(b),d=g.mmbizwxadevremote.WARemoteDebug_DomOp.toObject(a);c={params:d.params,webview_id:d.webviewId};break}case h.DebugMessageCategory.DomEvent:{const a=g.mmbizwxadevremote.WARemoteDebug_DomEvent.decode(b),d=g.mmbizwxadevremote.WARemoteDebug_DomEvent.toObject(a);c={params:d.params,webview_id:d.webviewId};break}default:{k.e("invalid debug object category"),c=null;break}}else c=null;return{seq:a.seq||0,delay:a.after||0,category:d||h.DebugMessageCategory.Ping,data:c||{}}}Object.defineProperty(exports,"__esModule",{value:!0});const g=require('./7a983d175ae5bf313342dd02835b3807.js'),h=require('./a148d3a11fd5268109e21fb40c9d527b.js'),i=require('./46d7303eb986fa402d60bf5e929aa077.js'),j=require('./56a764ae9cb4336bf6babe1c1da0275b.js'),k=j.default("[proto]");exports.requestCmdForType=b,exports.clientRequestCmdForType=c,exports.wrapOutgoingToProto=function(a,c,d){let f=null;switch(c){case h.RequestType.Login:{const b=a,c={baseRequest:{clientVersion:b.base_request.clientversion},newticket:b.newticket},d=g.mmbizwxadevremote.WARemoteDebug_DevLoginReq.verify(c);i.expect(!!d,k).toBe(!1).fail(()=>{throw k.e("invalid login request obj",d),d}),f=g.mmbizwxadevremote.WARemoteDebug_DevLoginReq.encode(c).finish();break}case h.RequestType.JoinRoom:{const b=a,c={baseRequest:{clientVersion:b.base_request.clientversion},appid:b.appid,roomId:b.room_id,wxpkgInfo:b.wxpkg_info},d=g.mmbizwxadevremote.WARemoteDebug_DevJoinRoomReq.verify(c);i.expect(!!d,k).toBe(!1).fail(()=>{throw k.e("invalid join room request obj",d),d}),f=g.mmbizwxadevremote.WARemoteDebug_DevJoinRoomReq.encode(c).finish();break}case h.RequestType.Heartbeat:{const b=a,c={baseRequest:{clientVersion:b.base_request.clientversion},recvAck:b.recv_ack},d=g.mmbizwxadevremote.WARemoteDebug_DevHeartBeatReq.verify(c);i.expect(!!d,k).toBe(!1).fail(()=>{throw k.e("invalid heartbeat request obj",d),d}),f=g.mmbizwxadevremote.WARemoteDebug_DevHeartBeatReq.encode(c).finish();break}case h.RequestType.SendDebugMessageParallelly:{const b=a,c={baseRequest:{clientVersion:b.base_request.clientversion},recvAck:b.recv_ack,debugMessageList:e(b.debug_message)},d=g.mmbizwxadevremote.WARemoteDebug_NewSendDebugMessageReq.verify(c);i.expect(!!d,k).toBe(!1).fail(()=>{throw k.e("invalid SendDebugMessageParallelly request obj",d),d}),f=g.mmbizwxadevremote.WARemoteDebug_NewSendDebugMessageReq.encode(c).finish();break}case h.RequestType.SendDebugMessage:{const b=a,c={baseRequest:{clientVersion:b.base_request.clientversion},recvAck:b.recv_ack,debugMessageList:e(b.debug_message)},d=g.mmbizwxadevremote.WARemoteDebug_SendDebugMessageReq.verify(c);i.expect(!!d,k).toBe(!1).fail(()=>{throw k.e("invalid SendDebugMessage request obj",d),d}),f=g.mmbizwxadevremote.WARemoteDebug_SendDebugMessageReq.encode(c).finish();break}case h.RequestType.QuitRoom:{const b={baseRequest:{clientVersion:a.base_request.clientversion}},c=g.mmbizwxadevremote.WARemoteDebug_DevQuitRoomReq.verify(b);i.expect(!!c,k).toBe(!1).fail(()=>{throw k.e("invalid QuitRoom request obj",c),c}),f=g.mmbizwxadevremote.WARemoteDebug_DevQuitRoomReq.encode(b).finish();break}case h.RequestType.SyncMessage:{const b=a,c={baseRequest:{clientVersion:b.base_request.clientversion},minSeq:b.min_seq};"number"==typeof b.max_seq&&(c.maxSeq=b.max_seq);const d=g.mmbizwxadevremote.WARemoteDebug_DevSyncMessageReq.verify(c);i.expect(!!d,k).toBe(!1).fail(()=>{throw k.e("invalid SyncMessage request obj",d),d}),f=g.mmbizwxadevremote.WARemoteDebug_DevSyncMessageReq.encode(c).finish();break}default:throw k.e("error wrapping outgoing object, invalid type",c),new Error("error wrapping outgoing object, invalid type "+c);}const j=g.mmbizwxadevremote.WARemoteDebug_DataFormat.create({cmd:b(c),uuid:d,data:f});return g.mmbizwxadevremote.WARemoteDebug_DataFormat.encode(j).finish()},exports.unwrapProtoToDataFormat=function(b){const c=g.mmbizwxadevremote.WARemoteDebug_DataFormat.decode(b),d="string"==typeof c.data?Buffer.from(c.data):c.data;let e=null;switch(c.cmd){case h.ResponseType.Heartbeat:{const a=g.mmbizwxadevremote.WARemoteDebug_DevHeartBeatResp.decode(d),b=g.mmbizwxadevremote.WARemoteDebug_DevHeartBeatResp.toObject(a);e={base_response:b.baseResponse};break}case h.ResponseType.Login:{const a=g.mmbizwxadevremote.WARemoteDebug_DevLoginResp.decode(d),b=g.mmbizwxadevremote.WARemoteDebug_DevLoginResp.toObject(a);e={base_response:b.baseResponse,room_info:{join_room:(b.roomInfo||{}).joinRoom,original_md5:(b.roomInfo||{}).originalMd5,room_status:(b.roomInfo||{}).roomStatus,wx_conn_status:(b.roomInfo||{}).wxConnStatus,dev_conn_status:(b.roomInfo||{}).devConnStatus,room_id:(b.roomInfo||{}).roomId}};break}case h.ResponseType.EventNotifyEnd:case h.ResponseType.EventNotifyBlock:case h.ResponseType.EventNotifyBegin:{const a=g.mmbizwxadevremote.WARemoteDebug_EventNotify.decode(d),b=g.mmbizwxadevremote.WARemoteDebug_EventNotify.toObject(a);e={base_response:Object.assign({},b.baseResponse||{})};break}case h.ResponseType.JoinRoom:{const a=g.mmbizwxadevremote.WARemoteDebug_DevJoinRoomResp.decode(d),b=g.mmbizwxadevremote.WARemoteDebug_DevJoinRoomResp.toObject(a);e={base_response:b.baseResponse};break}case h.ResponseType.MessageNotifyParallelly:case h.ResponseType.MessageNotify:{const a=g.mmbizwxadevremote.WARemoteDebug_MessageNotify.decode(d),b=a.debugMessageList,c=[];for(const a of b)c.push(f(a));e={debug_message:c};break}case h.ResponseType.QuitRoom:{const a=g.mmbizwxadevremote.WARemoteDebug_DevQuitRoomResp.decode(d),b=g.mmbizwxadevremote.WARemoteDebug_DevQuitRoomResp.toObject(a);e={base_response:b.baseResponse};break}case h.ResponseType.SendDebugMessageParallelly:{const a=g.mmbizwxadevremote.WARemoteDebug_NewSendDebugMessageResp.decode(d),b=g.mmbizwxadevremote.WARemoteDebug_NewSendDebugMessageResp.toObject(a);e={base_response:b.baseResponse,max_ack:b.maxAck,min_ack:b.minAck};break}case h.ResponseType.SendDebugMessage:{const a=g.mmbizwxadevremote.WARemoteDebug_SendDebugMessageResp.decode(d),b=g.mmbizwxadevremote.WARemoteDebug_SendDebugMessageResp.toObject(a);e={base_response:b.baseResponse,send_ack:b.sendAck};break}case h.ResponseType.SyncMessage:{const a=g.mmbizwxadevremote.WARemoteDebug_DevSyncMessageResp.decode(d),b=a.debugMessageList,c=[];for(const a of b)c.push(f(a));e={debug_message:c,send_ack:a.sendAck,base_response:a.baseResponse};break}default:{k.e("error receive invalid cmd",c.cmd),e={};break}}const i={cmd:c.cmd,uuid:c.uuid,data:e,_comment:a(c.cmd)};return i},exports.uint8ArrayToBuffer=function(a){let b=Buffer.from(a.buffer);return a.byteLength!==a.buffer.byteLength&&(b=b.slice(a.byteOffset,a.byteOffset+a.byteLength)),b},exports.unwrapClientProtoToDataFormat=function(b){const c=g.mmbizwxadevremote.WARemoteDebug_DataFormat.decode(b),d="string"==typeof c.data?Buffer.from(c.data):c.data;let e=null;switch(c.cmd){case h.ClientRequestCmd.Login:{const a=g.mmbizwxadevremote.WARemoteDebug_WxLoginReq.decode(d),b=g.mmbizwxadevremote.WARemoteDebug_WxLoginReq.toObject(a);e={base_request:{clientversion:b.baseRequest},loginticket:b.loginTicket};break}case h.ClientRequestCmd.Heartbeat:{const a=g.mmbizwxadevremote.WARemoteDebug_WxHeartBeatReq.decode(d),b=g.mmbizwxadevremote.WARemoteDebug_WxHeartBeatReq.toObject(a);e={base_request:{clientversion:b.baseRequest},recv_ack:b.recvAck};break}case h.ClientRequestCmd.JoinRoom:{const a=g.mmbizwxadevremote.WARemoteDebug_WxJoinRoomReq.decode(d),b=g.mmbizwxadevremote.WARemoteDebug_WxJoinRoomReq.toObject(a);e={base_request:{clientversion:b.baseRequest},wxpkg_info:b.wxpkgInfo,username:b.username,room_id:b.roomId};break}case h.ClientRequestCmd.JoinRoom:{const a=g.mmbizwxadevremote.WARemoteDebug_WxJoinRoomReq.decode(d),b=g.mmbizwxadevremote.WARemoteDebug_WxJoinRoomReq.toObject(a);e={base_request:{clientversion:b.baseRequest},wxpkg_info:b.wxpkgInfo,username:b.username,room_id:b.roomId};break}case h.ClientRequestCmd.QuitRoom:{const a=g.mmbizwxadevremote.WARemoteDebug_WxQuitRoomReq.decode(d),b=g.mmbizwxadevremote.WARemoteDebug_WxQuitRoomReq.toObject(a);e={base_request:{clientversion:b.baseRequest}};break}case h.ClientRequestCmd.SendDebugMessageParallelly:{const a=g.mmbizwxadevremote.WARemoteDebug_NewSendDebugMessageReq.decode(d),b=g.mmbizwxadevremote.WARemoteDebug_NewSendDebugMessageReq.toObject(a);e={base_request:{clientversion:b.baseRequest},debug_message:(b.debugMessageList||[]).map((a)=>f(a)),recv_ack:b.recvAck};break}case h.ClientRequestCmd.SyncMessage:{const a=g.mmbizwxadevremote.WARemoteDebug_WxSyncMessageReq.decode(d),b=g.mmbizwxadevremote.WARemoteDebug_WxSyncMessageReq.toObject(a);e={base_request:{clientversion:b.baseRequest},min_seq:b.minSeq,max_seq:b.maxSeq};break}default:{k.e("error receive invalid cmd",c.cmd),e={};break}}const i={cmd:c.cmd,uuid:c.uuid,data:e,_comment:a(c.cmd)};return i},exports.wrapClientResponseDataFormatToProto=function(a,b,d){let f=null;switch(b){case h.ClientResponseType.Login:{const b=a,c={baseResponse:{errcode:(b.base_response||{}).errcode,errmsg:(b.base_response||{}).errmsg},roomInfo:{joinRoom:(b.room_info||{}).join_room,originalMd5:(b.room_info||{}).original_md5,roomStatus:(b.room_info||{}).room_status,wxConnStatus:(b.room_info||{}).wx_conn_status,devConnStatus:(b.room_info||{}).dev_conn_status,roomId:(b.room_info||{}).room_id}},d=g.mmbizwxadevremote.WARemoteDebug_WxLoginResp.verify(c);i.expect(!!d,k).toBe(!1).fail(()=>{throw k.e("invalid client login response obj",d),d}),f=g.mmbizwxadevremote.WARemoteDebug_WxLoginResp.encode(c).finish();break}case h.ClientResponseType.JoinRoom:{const b={baseResponse:a.base_response},c=g.mmbizwxadevremote.WARemoteDebug_WxJoinRoomResp.verify(b);i.expect(!!c,k).toBe(!1).fail(()=>{throw k.e("invalid client join room response obj",c),c}),f=g.mmbizwxadevremote.WARemoteDebug_WxJoinRoomResp.encode(b).finish();break}case h.ClientResponseType.Heartbeat:{const b={baseResponse:a.base_response},c=g.mmbizwxadevremote.WARemoteDebug_WxHeartBeatResp.verify(b);i.expect(!!c,k).toBe(!1).fail(()=>{throw k.e("invalid client heartbeat response obj",c),c}),f=g.mmbizwxadevremote.WARemoteDebug_WxHeartBeatResp.encode(b).finish();break}case h.ClientResponseType.SendDebugMessageParallelly:{const b=a,c={baseResponse:b.base_response,maxAck:b.max_ack,minAck:b.min_ack},d=g.mmbizwxadevremote.WARemoteDebug_NewSendDebugMessageResp.verify(c);i.expect(!!d,k).toBe(!1).fail(()=>{throw k.e("invalid client SendDebugMessageParallelly response obj",d),d}),f=g.mmbizwxadevremote.WARemoteDebug_NewSendDebugMessageResp.encode(c).finish();break}case h.ClientResponseType.QuitRoom:{const b={baseResponse:a.base_response},c=g.mmbizwxadevremote.WARemoteDebug_WxQuitRoomResp.verify(b);i.expect(!!c,k).toBe(!1).fail(()=>{throw k.e("invalid client QuitRoom response obj",c),c}),f=g.mmbizwxadevremote.WARemoteDebug_WxQuitRoomResp.encode(b).finish();break}case h.ClientResponseType.SyncMessage:{const b=a,c={baseResponse:b.base_response,debugMessageList:e(b.debug_message),sendAck:b.send_ack},d=g.mmbizwxadevremote.WARemoteDebug_WxSyncMessageResp.verify(c);i.expect(!!d,k).toBe(!1).fail(()=>{throw k.e("invalid client sync message response obj",d),d}),f=g.mmbizwxadevremote.WARemoteDebug_WxSyncMessageResp.encode(c).finish();break}case h.ClientResponseType.MessageNotifyParallelly:{const b={debugMessageList:e(a.debug_message)},c=g.mmbizwxadevremote.WARemoteDebug_MessageNotify.verify(b);i.expect(!!c,k).toBe(!1).fail(()=>{throw k.e("invalid client MessageNotifyParallelly response obj",c),c}),f=g.mmbizwxadevremote.WARemoteDebug_MessageNotify.encode(b).finish();break}case h.ClientResponseType.EventNotifyEnd:case h.ClientResponseType.EventNotifyBlock:case h.ClientResponseType.EventNotifyBegin:{const a={},b=g.mmbizwxadevremote.WARemoteDebug_EventNotify.verify(a);i.expect(!!b,k).toBe(!1).fail(()=>{throw k.e("invalid client ClientEventNotify response obj",b),b}),f=g.mmbizwxadevremote.WARemoteDebug_EventNotify.encode(a).finish();break}default:throw k.e("error wrapping outgoing object, invalid type",b),new Error("error wrapping outgoing object, invalid type "+b);}const j=g.mmbizwxadevremote.WARemoteDebug_DataFormat.create({cmd:c(b),uuid:d,data:f});return g.mmbizwxadevremote.WARemoteDebug_DataFormat.encode(j).finish()}}(require("lazyload"),require);